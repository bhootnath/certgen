<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<title>Certificate Generator</title>

<!-- Marathi Calligraphy Font -->
<link href="https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Marathi&display=swap" rel="stylesheet">

<style>
body {
    font-family: "Tiro Devanagari Marathi", serif;
    background: #f2f2f2;
    text-align: center;
    margin: 0;
}

/* FORM */
.form-box {
    margin: 25px auto;
    padding: 25px;
    max-width: 420px;
    background: #ffffff;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.15);
}

input {
    width: 95%;
    padding: 12px;
    font-size: 18px;
    margin: 10px 0;
}

button {
    background: #d6a53a;
    border: none;
    padding: 12px 30px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 6px;
    margin: 10px;
}

/* CERTIFICATE */
.certificate {
    display: none;
    margin: 20px auto;
    width: 1123px;   /* A4 landscape */
    height: 794px;
    position: relative;
    background: url("baseimage.png") no-repeat center;
    background-size: cover;
}

/* PERFECT NAME PLACEMENT */
.cert-name {
    position: absolute;
    top: 500px;          /* adjust if needed */
    width: 100%;
    text-align: center;
    font-size: 38px;
    color: #7a1f1f;
}
</style>
</head>

<body>

<!-- INPUT -->
<div class="form-box">
    <h2>प्रमाणपत्र तयार करा</h2>
    <input type="text" id="name" placeholder="पूर्ण नाव लिहा">
    <br>
    <button onclick="generate()">Generate Certificate</button>
    <button onclick="downloadPNG()" id="downloadBtn" style="display:none;">
        Download PNG
    </button>
</div>

<!-- CERTIFICATE -->
<div class="certificate" id="certificate">
    <div class="cert-name" id="certName"></div>
</div>

<!-- Canvas (hidden) -->
<canvas id="canvas" width="1123" height="794" style="display:none;"></canvas>

<script>
function generate() {
    const name = document.getElementById("name").value.trim();
    if (!name) {
        alert("कृपया नाव प्रविष्ट करा");
        return;
    }

    document.getElementById("certName").innerText = name;
    document.getElementById("certificate").style.display = "block";
    document.getElementById("downloadBtn").style.display = "inline-block";
}

function downloadPNG() {
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    const bg = new Image();
    bg.src = "baseimage.png";

    bg.onload = () => {
        // Draw background
        ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);

        // Draw name
        ctx.font = "38px 'Tiro Devanagari Marathi'";
        ctx.fillStyle = "#7a1f1f";
        ctx.textAlign = "center";
        ctx.fillText(
            document.getElementById("certName").innerText,
            canvas.width / 2,
            540
        );

        // Download
        const link = document.createElement("a");
        link.download = "certificate.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
    };
}
</script>

</body>
</html>
